<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IRON PENANCE</title>
  <link rel="icon" href="data:," />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="hud" id="hud">
    <div class="bar">
      <div class="label">HP</div>
      <div class="track"><div id="hpFill" class="fill"></div></div>
      <div id="hpText" class="text"></div>
    </div>

    <div class="bar">
      <div class="label">ST</div>
      <div class="track"><div id="stFill" class="fill"></div></div>
      <div id="stText" class="text"></div>
    </div>

    <div class="row">
      <div class="pill">Souls: <span id="soulsText">0</span></div>
      <div class="pill">Gold: <span id="goldText">0</span></div>
      <div class="pill">Estus: <span id="estusText">0/0</span></div>
      <div class="pill">Checkpoint: <span id="cpText">—</span></div>
      <div class="pill">Zona: <span id="zoneText">—</span></div>
      <div class="pill" id="fpsPill">FPS: <span id="fpsText">0</span></div>
    </div>

    <div class="help">
      <b>Controles</b>:
      A/D ou ←/→ mover • W/↑/Espaço pular • J atacar • K rolar • L aparar • SHIFT dash • CTRL sprint • Q beber Estus • TAB inventário • E interagir/coletar • R reiniciar
    </div>
  </div>

  <div class="boss-bar hidden" id="bossBar" aria-live="polite">
    <div class="boss-name">O PENITENTE DE FERRO</div>
    <div class="boss-track">
      <div id="bossHpFill" class="boss-fill"></div>
    </div>
  </div>

  <div class="inventory-screen hidden" id="inventoryScreen" aria-hidden="true">
    <div class="inventory-panel" role="dialog" aria-labelledby="inventoryTitle">
      <header class="inventory-header">
        <div>
          <p class="inventory-kicker">Inventário</p>
          <h2 id="inventoryTitle">EQUIPAMENTO</h2>
        </div>
        <div class="inventory-weight" id="inventoryWeight">Peso 0/0</div>
      </header>
      <div class="inventory-body">
        <ul class="inventory-slots" id="inventorySlots">
          <li class="inventory-slot" data-slot="weapon">
            <span class="slot-label">Arma</span>
            <span class="slot-value" id="slotWeapon">—</span>
          </li>
          <li class="inventory-slot" data-slot="armor">
            <span class="slot-label">Armadura</span>
            <span class="slot-value" id="slotArmor">—</span>
          </li>
          <li class="inventory-slot" data-slot="relic">
            <span class="slot-label">Relíquia</span>
            <span class="slot-value" id="slotRelic">—</span>
          </li>
          <li class="inventory-slot" data-slot="consumable">
            <span class="slot-label">Consumível</span>
            <span class="slot-value" id="slotConsumable">—</span>
          </li>
        </ul>
        <div class="inventory-details" id="inventoryDetails"></div>
      </div>
      <div class="inventory-hint">↑ ↓ navegar • Enter equipar • Clique para detalhes • Esc sair</div>
    </div>
  </div>

  <div class="quest-overlay hidden" id="questOverlay" aria-hidden="true">
    <div class="quest-panel" role="dialog" aria-labelledby="questTitle">
      <header class="quest-header">
        <p class="quest-kicker">Missões</p>
        <h2 id="questTitle">A Santa da Ruína</h2>
      </header>
      <div class="quest-body">
        <div class="quest-list" id="questList" role="listbox" aria-label="Lista de missões"></div>
        <div class="quest-details" id="questDetails"></div>
      </div>
      <div class="quest-hint" id="questHint">↑ ↓ navegar • Enter selecionar • Esc voltar</div>
    </div>
  </div>

  <canvas id="game" width="960" height="540" aria-label="Soulslike 2D"></canvas>
  <div class="damage-flash" id="damageFlash" aria-hidden="true"></div>
  <div class="pause-overlay hidden" id="pauseOverlay" aria-hidden="true">
    <div class="pause-vignette"></div>
    <div class="pause-panel" id="pauseMenu" role="dialog" aria-labelledby="pauseTitle">
      <h2 class="pause-title" id="pauseTitle">PAUSED</h2>
      <div class="pause-ornament"></div>
      <nav class="pause-list" id="pauseMenuList">
        <button class="pause-item" data-action="continue">CONTINUAR</button>
        <button class="pause-item" data-action="save">SALVAR PROGRESSO</button>
        <button class="pause-item" data-action="options">OPÇÕES</button>
        <button class="pause-item" data-action="quit">SAIR PARA MENU</button>
      </nav>
    </div>
    <div class="pause-panel hidden" id="pauseOptions" role="dialog" aria-labelledby="pauseOptionsTitle">
      <h2 class="pause-title" id="pauseOptionsTitle">OPTIONS</h2>
      <div class="pause-ornament"></div>
      <div class="pause-options-body">
        <nav class="pause-options-list" id="pauseOptionsList">
          <button class="pause-item" data-section="game">GAME</button>
          <button class="pause-item" data-section="audio">AUDIO</button>
          <button class="pause-item" data-section="video">VIDEO</button>
          <button class="pause-item" data-section="controller">CONTROLLER</button>
          <button class="pause-item" data-section="keyboard">KEYBOARD</button>
          <button class="pause-item" data-section="back">BACK</button>
        </nav>
        <div class="pause-options-panel" id="pauseOptionsPanel">
          <section class="options-section" data-section="game">
            <div class="options-row">
              <span>Mostrar FPS</span>
              <button class="options-toggle" data-toggle="show-fps">ON</button>
            </div>
            <div class="options-row">
              <span>Dificuldade</span>
              <span class="options-value">Em breve</span>
            </div>
            <div class="options-row">
              <span>Vibração</span>
              <span class="options-value">Em breve</span>
            </div>
          </section>
          <section class="options-section hidden" data-section="audio">
            <div class="options-row">
              <label for="pauseVolumeRange">Volume master</label>
              <div class="options-control">
                <input type="range" id="pauseVolumeRange" min="0" max="100" step="1" />
                <span class="options-value" id="pauseVolumeValue">0%</span>
              </div>
            </div>
            <div class="options-row">
              <span>SFX</span>
              <span class="options-value">Em breve</span>
            </div>
          </section>
          <section class="options-section hidden" data-section="video">
            <div class="options-row">
              <span>Fullscreen</span>
              <button class="options-toggle" data-toggle="fullscreen">OFF</button>
            </div>
            <div class="options-row">
              <span>Pixel Scale</span>
              <select class="options-select" id="pausePixelScale">
                <option value="1">1x</option>
                <option value="1.5">1.5x</option>
                <option value="2">2x</option>
              </select>
            </div>
            <div class="options-row">
              <span>Brilho</span>
              <span class="options-value">Em breve</span>
            </div>
          </section>
          <section class="options-section hidden" data-section="controller">
            <p class="options-placeholder">Em breve.</p>
          </section>
          <section class="options-section hidden" data-section="keyboard">
            <div class="options-row">
              <span>WASD / ← →</span>
              <span class="options-value">Mover</span>
            </div>
            <div class="options-row">
              <span>Espaço / W</span>
              <span class="options-value">Pular</span>
            </div>
            <div class="options-row">
              <span>J</span>
              <span class="options-value">Atacar</span>
            </div>
            <div class="options-row">
              <span>K</span>
              <span class="options-value">Rolar</span>
            </div>
            <div class="options-row">
              <span>SHIFT</span>
              <span class="options-value">Dash</span>
            </div>
            <div class="options-row">
              <span>CTRL</span>
              <span class="options-value">Sprint</span>
            </div>
            <div class="options-row">
              <span>Rebind</span>
              <span class="options-value">Em breve</span>
            </div>
          </section>
        </div>
      </div>
    </div>
  </div>

  <div class="menu-screen hidden" id="menuScreen" aria-live="polite">
    <div class="menu-fog"></div>
    <canvas class="menu-particles" id="menuParticles" width="960" height="540" aria-hidden="true"></canvas>
    <div class="menu-content">
      <header class="menu-header">
        <p class="menu-kicker">Prepare-se para a penitência</p>
        <h1 class="menu-logo">IRON PENANCE</h1>
        <p class="menu-subtitle">PREPARE-SE PARA A PENITÊNCIA</p>
      </header>

      <nav class="menu-list" id="menuList">
        <button class="menu-item" data-action="start">INICIAR O JOGO</button>
        <button class="menu-item" data-action="continue">CONTINUAR</button>
        <button class="menu-item" data-action="save">SALVAR PROGRESSO</button>
        <button class="menu-item" data-action="options">OPÇÕES</button>
        <button class="menu-item" data-action="extras">EXTRAS</button>
        <button class="menu-item" data-action="logout">SAIR</button>
      </nav>

      <section class="menu-panel hidden" id="optionsPanel" aria-hidden="true">
        <h2>OPÇÕES</h2>
        <div class="menu-field">
          <label for="volumeRange">Volume</label>
          <div class="menu-field-row">
            <input type="range" id="volumeRange" min="0" max="100" step="1" />
            <span id="volumeValue">0</span>
          </div>
        </div>
        <div class="menu-field">
          <label for="fpsToggle">Mostrar FPS</label>
          <label class="toggle">
            <input type="checkbox" id="fpsToggle" />
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="menu-field">
          <label for="fpsLimitRange">Limitar FPS</label>
          <div class="menu-field-row">
            <input type="range" id="fpsLimitRange" min="30" max="120" step="1" />
            <span id="fpsLimitValue">60</span>
          </div>
        </div>
        <button class="menu-back" id="optionsBack">Voltar</button>
      </section>

      <section class="menu-panel hidden" id="extrasPanel" aria-hidden="true">
        <h2>EXTRAS</h2>
        <div class="menu-text">
          <h3>Créditos</h3>
          <p>IRON PENANCE é uma jornada criada para honrar a perseverança nas ruínas.</p>
        </div>
        <div class="menu-text">
          <h3>Roadmap</h3>
          <ul>
            <li>Novos biomas e inimigos.</li>
            <li>Chefes com fases adicionais.</li>
            <li>Modo desafio e conquistas.</li>
          </ul>
        </div>
        <button class="menu-back" id="extrasBack">Voltar</button>
      </section>
    </div>
    <div class="menu-footer">
      <span class="menu-version">v0.1.0</span>
      <span class="menu-user" id="menuUser">Conectado: —</span>
    </div>
  </div>

  <div class="profiles-screen hidden" id="profilesScreen" aria-live="polite">
    <div class="profiles-fog"></div>
    <div class="profiles-content">
      <header class="profiles-header">
        <p class="profiles-kicker">Prepare-se para continuar</p>
        <h2 class="profiles-title">SELECT PROFILE</h2>
        <div class="profiles-ornament">
          <span></span>
          <span class="ornament-dot"></span>
          <span></span>
        </div>
      </header>

      <ul class="profiles-slots" id="profilesSlots">
        <li class="profiles-slot" data-slot="1">
          <span class="slot-index">1.</span>
          <div class="slot-body">
            <div class="slot-title">NEW GAME</div>
            <div class="slot-meta">—</div>
          </div>
        </li>
        <li class="profiles-slot" data-slot="2">
          <span class="slot-index">2.</span>
          <div class="slot-body">
            <div class="slot-title">NEW GAME</div>
            <div class="slot-meta">—</div>
          </div>
        </li>
        <li class="profiles-slot" data-slot="3">
          <span class="slot-index">3.</span>
          <div class="slot-body">
            <div class="slot-title">NEW GAME</div>
            <div class="slot-meta">—</div>
          </div>
        </li>
        <li class="profiles-slot" data-slot="4">
          <span class="slot-index">4.</span>
          <div class="slot-body">
            <div class="slot-title">NEW GAME</div>
            <div class="slot-meta">—</div>
          </div>
        </li>
      </ul>

      <div class="profiles-actions">
        <button class="profiles-clear hidden" id="clearSaveBtn">CLEAR SAVE</button>
        <div class="profiles-confirm hidden" id="clearConfirm">
          <span>Apagar save?</span>
          <button class="profiles-confirm-btn" data-action="confirm">Sim</button>
          <button class="profiles-confirm-btn" data-action="cancel">Não</button>
        </div>
      </div>

      <button class="profiles-back" id="profilesBack">BACK</button>
    </div>
  </div>

  <div class="toast" id="toast"></div>

  <div class="login-screen" id="loginScreen" aria-live="polite">
    <div class="login-fog"></div>
    <div class="login-panel">
      <p class="login-kicker">Prepare-se para penitência</p>
      <h1>IRON PENANCE</h1>
      <p class="login-subtitle">Conecte sua conta para entrar nas ruínas.</p>

      <div class="login-actions" id="loginActions">
        <div class="login-section">
          <p class="login-section-title">Entrar com Google</p>
          <button class="btn btn-primary" id="googleLoginBtn">Entrar com Google</button>
        </div>

        <div class="login-divider"><span>ou</span></div>

        <div class="login-section">
          <p class="login-section-title">Email e senha</p>
          <div class="login-field">
            <label for="emailInput">Email</label>
            <input id="emailInput" type="email" autocomplete="email" placeholder="seu@email.com" />
          </div>
          <div class="login-field">
            <label for="passwordInput">Senha</label>
            <input id="passwordInput" type="password" autocomplete="current-password" placeholder="••••••••" />
          </div>
          <div class="login-buttons">
            <button class="btn btn-primary" id="emailLoginBtn">Entrar</button>
            <button class="btn btn-ghost" id="emailRegisterBtn">Criar conta</button>
          </div>
          <button class="btn btn-link" id="resetPasswordBtn" type="button">Esqueci minha senha</button>
        </div>

        <p class="login-status" id="authStatus">Aguardando…</p>
      </div>

      <div class="login-user" id="loginUser" aria-live="polite">
        <p class="login-user-name" id="userName">—</p>
        <p class="login-user-email" id="userEmail">—</p>
        <div class="login-user-actions">
          <button class="btn btn-primary" id="continueBtn">Continuar</button>
          <button class="btn btn-ghost" id="logoutBtn">Sair</button>
        </div>
      </div>

      <p class="login-hint">Ao entrar você aceita carregar sua jornada localmente.</p>
    </div>
  </div>

  <script type="module" src="game.js"></script>
</body>
</html>
